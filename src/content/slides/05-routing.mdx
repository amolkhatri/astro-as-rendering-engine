---
title: "File-Based Routing"
order: 9
icon: "ðŸ“‚"
---

# File System Routing
## Convention over Configuration

Astro uses a **file-based routing system** where the file structure in your 
`src/pages` directory determines your routes. Simple, intuitive, and powerful.

## Route Mapping

```
src/pages/
â”‚
â”œâ”€â”€ index.astro           â†’  /
â”œâ”€â”€ about.astro           â†’  /about
â”œâ”€â”€ contact.astro         â†’  /contact
â”‚
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ index.astro       â†’  /blog
â”‚   â”œâ”€â”€ [slug].astro      â†’  /blog/:slug (dynamic)
â”‚   â””â”€â”€ [...path].astro   â†’  /blog/* (catch-all)
â”‚
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ [...slug].astro   â†’  /docs/* (catch-all)
â”‚
â””â”€â”€ api/
    â”œâ”€â”€ posts.ts          â†’  /api/posts (API endpoint)
    â””â”€â”€ users/
        â””â”€â”€ [id].ts       â†’  /api/users/:id
```

## Dynamic Routes

```astro
---
// src/pages/blog/[slug].astro
export async function getStaticPaths() {
  const posts = await fetchPosts();
  return posts.map(post => ({
    params: { slug: post.slug },
    props: { post }
  }));
}

const { post } = Astro.props;
---

<article>
  <h1>{post.title}</h1>
  <div set:html={post.content} />
</article>
```

## API Routes

```typescript
// src/pages/api/posts.ts
import type { APIRoute } from 'astro';

export const GET: APIRoute = async ({ request }) => {
  const posts = await db.posts.findMany();
  return new Response(JSON.stringify(posts), {
    headers: { 'Content-Type': 'application/json' }
  });
};

export const POST: APIRoute = async ({ request }) => {
  const data = await request.json();
  const post = await db.posts.create({ data });
  return new Response(JSON.stringify(post), { status: 201 });
};
```

